import requests
from urllib.parse import quote


word = "风景"
key = quote(word)
uri = f'https://www.douyin.com/aweme/v1/web/search/item/?device_platform=webapp&aid=6383&channel=channel_pc_web&search_channel=aweme_video_web&sort_type=2&publish_time=0&keyword={key}&search_source=tab_search&query_correct_type=1&is_filter_search=1&from_group_id=&offset=0&count=10&version_code=170400&version_name=17.4.0&cookie_enabled=true&screen_width=1440&screen_height=900&browser_language=zh-CN&browser_platform=MacIntel&browser_name=Chrome&browser_version=100.0.4896.75&browser_online=true&engine_name=Blink&engine_version=100.0.4896.75&os_name=Mac+OS&os_version=10.15.7&cpu_core_num=8&device_memory=8&platform=PC&downlink=10&effective_type=4g&round_trip_time=50&webid=7079409696313984526&msToken=aGarzAkrbdEGPNgNGC1mlnbzseoJOegH_CiOGkDIiL1ATdD7ktBwNy5bA_VQr1Ra1h8Q19IuOKyl7DpJOpDONOlxmPeMyHO8F7xYtio6AYYW2dEtNLZfow==&X-Bogus=DFSzswVu/CtANx1-SAhDCN7TlqtP&_signature=_02B4Z6wo00001PlMf2QAAIDDbZokaL0g1FT5THvAAFwMU7dn0BmTu-yuawoVzlIryeEfY7Fu4sebqL81ZyC7-8-k3pL3HMfWHDEaYTbDByWOoh4cog6oIu-0D.0bVHPOVTxUb2qyui9HEBE17a'

header = {
    'referer': f'https://www.douyin.com/search/{key}?publish_time=0&sort_type=2&source=tab_search&type=video',
    'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/100.0.4896.75 Safari/537.36',
    'cookie':'ttwid=1%7CNqYUJMB2e82JKhY9Y9pX162KTE84bVFwSbu2NGjrF8k%7C1648303524%7Caf8df268c58e49f26e9b2b0f60020044168b037bd4c037a10fc8ed5f1d23100c; ttcid=cff93e7cb5ee4a7caac4097669a2f54631; _tea_utm_cache_6383=undefined; passport_csrf_token=a4d4e3dff1a70b16c1ae469fadf1f96c; passport_csrf_token_default=a4d4e3dff1a70b16c1ae469fadf1f96c; _tea_utm_cache_1300=undefined; n_mh=VNq34z2ZD7NDXjcXD_1n5Md_yI6WB2VzWNVE4h4Vyto; _tea_utm_cache_2018=undefined; FOLLOW_LIVE_POINT_INFO=MS4wLjABAAAARxeNEedfDwZnBSkh6JtJ0oufkecTDKp8qa8c6a5DiuU%2F1649606400000%2F0%2F1649600204534%2F0; _tea_utm_cache_2285=undefined; THEME_STAY_TIME=299519; IS_HIDE_THEME_CHANGE=1; douyin.com; strategyABtestKey=1649684049.814; s_v_web_id=verify_l1urafxz_gPcm4sjO_mbCu_4o4n_Bzvw_aPQkc9Jx7B52; FOLLOW_NUMBER_YELLOW_POINT_INFO=MS4wLjABAAAARxeNEedfDwZnBSkh6JtJ0oufkecTDKp8qa8c6a5DiuU%2F1649692800000%2F0%2F1649684050667%2F0; pwa_guide_count=3; __ac_signature=_02B4Z6wo00f01TGQ24gAAIDCpUaAhVrVnkUxsN8AAC404wqziinjU5PpFbScpLqK5NWMLQwQ1ob7Ewf-mCycv.hUyC2HMw9Fw25I9S0hqNBDa1aDtiqOFidRxXw3gvX-RM7qHQy4rMI2P9-hf2; tt_scid=UWRTzNP3t9tDmj8J81gZwIONLFokaCaflspM6VLXuQ-b5WPPXABYooQxXGh7ONV73001; sso_uid_tt=18d31aedc0b8d83250a81118414e0678; sso_uid_tt_ss=18d31aedc0b8d83250a81118414e0678; toutiao_sso_user=612618355a1859f33a322fb3e719def7; toutiao_sso_user_ss=612618355a1859f33a322fb3e719def7; sid_ucp_sso_v1=1.0.0-KDVhODRiOTRiYWUyZGU2MTg3ZWM5MDlhM2MwYTUyYTAzZDBmZGQ1MWUKHQjakfzoiwIQm5XWkgYY7zEgDDCvx_fOBTgGQPQHGgJsZiIgNjEyNjE4MzU1YTE4NTlmMzNhMzIyZmIzZTcxOWRlZjc; ssid_ucp_sso_v1=1.0.0-KDVhODRiOTRiYWUyZGU2MTg3ZWM5MDlhM2MwYTUyYTAzZDBmZGQ1MWUKHQjakfzoiwIQm5XWkgYY7zEgDDCvx_fOBTgGQPQHGgJsZiIgNjEyNjE4MzU1YTE4NTlmMzNhMzIyZmIzZTcxOWRlZjc; odin_tt=e292d54bb748a304dfd8c61609634cc5822e9cbe0c50e885e468ceb77c1146e2e3ae99f47a207f98ec920239c596f90f; sid_guard=612618355a1859f33a322fb3e719def7%7C1649773213%7C5183999%7CSat%2C+11-Jun-2022+14%3A20%3A12+GMT; uid_tt=18d31aedc0b8d83250a81118414e0678; uid_tt_ss=18d31aedc0b8d83250a81118414e0678; sid_tt=612618355a1859f33a322fb3e719def7; sessionid=612618355a1859f33a322fb3e719def7; sessionid_ss=612618355a1859f33a322fb3e719def7; sid_ucp_v1=1.0.0-KDdmN2EyYTQ5NWUyYzJjNjE3MjJlMjQ1OWFlNzRiYThkZGVhYTQyNDgKHQjakfzoiwIQnZXWkgYY7zEgDDCvx_fOBTgGQPQHGgJsZiIgNjEyNjE4MzU1YTE4NTlmMzNhMzIyZmIzZTcxOWRlZjc; ssid_ucp_v1=1.0.0-KDdmN2EyYTQ5NWUyYzJjNjE3MjJlMjQ1OWFlNzRiYThkZGVhYTQyNDgKHQjakfzoiwIQnZXWkgYY7zEgDDCvx_fOBTgGQPQHGgJsZiIgNjEyNjE4MzU1YTE4NTlmMzNhMzIyZmIzZTcxOWRlZjc; __ac_nonce=062558a9d009900b6f171; home_can_add_dy_2_desktop=1; msToken=vhHqK0RFxUfxjDYDuHeSF2Nkx-TV7xMMQLTU1Ctd1g0yFH9o40MSeAPAC1EYBqiE2py0o275OjvU-FTI51i5qudDl2jZPPhqWi-91I8ZC4QdRLf4tmXjvw==; msToken=qQIIvvQ2cUkslSl0kApENE4-CuQiIYtCJx0G8pSK1xKYzzc2NosI_fF-z_R_JmK6PvWFHFwPRURKcuiS_Nmvj0dyD_zvDU3BxXLIuMS09N19YGgkD0LivbgOtSZC_p4='
}
# https://www.douyin.com/aweme/v1/web/search/item/?device_platform=webapp&aid=6383&channel=channel_pc_web&search_channel=aweme_video_web&sort_type=0&publish_time=0&keyword=%E7%BE%8E%E5%A5%B3&search_source=normal_search&query_correct_type=1&is_filter_search=0&from_group_id=&offset=0&count=16&version_code=170400&version_name=17.4.0&cookie_enabled=true&screen_width=1440&screen_height=900&browser_language=zh-CN&browser_platform=MacIntel&browser_name=Chrome&browser_version=100.0.4896.75&browser_online=true&engine_name=Blink&engine_version=100.0.4896.75&os_name=Mac+OS&os_version=10.15.7&cpu_core_num=8&device_memory=8&platform=PC&downlink=10&effective_type=4g&round_trip_time=50&webid=7079409696313984526&msToken=qQIIvvQ2cUkslSl0kApENE4-CuQiIYtCJx0G8pSK1xKYzzc2NosI_fF-z_R_J
# 

resp = requests.get(uri,headers = header).json()
# print(resp.text)
dic = resp['data'][0]
url=dic['aweme_info']['video']['play_addr_lowbr']['url_list'][0]
print(url)